# =============================================================================
# MCP Gateway Registry - Environment Configuration Sample  
# =============================================================================
# Copy this file to .env and update with your actual values
# Never commit real credentials to version control

# =============================================================================
# REGISTRY CONFIGURATION
# =============================================================================

# Public URL where the MCP Gateway Registry is accessible
# For custom HTTPS domain: https://mcpgateway.mycorp.com
REGISTRY_URL=http://localhost

# Registry admin credentials
ADMIN_USER=admin
ADMIN_PASSWORD=your-secure-password-here

# =============================================================================
# AUTH SERVER CONFIGURATION
# =============================================================================

# Internal auth server URL (for Docker network communication)
AUTH_SERVER_URL=http://auth-server:8888

# External auth server URL (public-facing)
# For custom HTTPS domain: https://mcpgateway.mycorp.com
AUTH_SERVER_EXTERNAL_URL=https://your-domain.com

# =============================================================================
# AUTHENTICATION PROVIDER CONFIGURATION
# =============================================================================
# Choose authentication provider: 'cognito' or 'keycloak'
AUTH_PROVIDER=keycloak

# =============================================================================
# KEYCLOAK CONFIGURATION (if AUTH_PROVIDER=keycloak)
# =============================================================================

# Keycloak server URL (internal URL for server-to-server communication)
# DO NOT CHANGE: This should always be http://keycloak:8080 for Docker network communication
KEYCLOAK_URL=http://keycloak:8080

# Keycloak external URL (for browser redirects)
# For local development: http://localhost:8080
# For custom HTTPS domain: https://mcpgateway.mycorp.com
KEYCLOAK_EXTERNAL_URL=http://localhost:8080

# Keycloak admin URL (for setup scripts - internal access)
# Typically http://localhost:8080 for local access to Keycloak admin
# For custom HTTPS domain: https://mcpgateway.mycorp.com
KEYCLOAK_ADMIN_URL=http://localhost:8080

# Keycloak realm name
KEYCLOAK_REALM=mcp-gateway

# Keycloak admin credentials (for initial setup)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=your-secure-keycloak-admin-password

# Keycloak database password
KEYCLOAK_DB_PASSWORD=your-secure-db-password

# Keycloak client credentials for web authentication
# These are auto-generated when you run keycloak/setup/init-keycloak.sh
# To retrieve: Check script output or Keycloak Admin Console → Clients → Credentials tab
KEYCLOAK_CLIENT_ID=mcp-gateway-web
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret-here

# Keycloak M2M client credentials for machine-to-machine authentication
# These are auto-generated when you run keycloak/setup/init-keycloak.sh
# To retrieve: Check script output or Keycloak Admin Console → Clients → Credentials tab
KEYCLOAK_M2M_CLIENT_ID=mcp-gateway-m2m
KEYCLOAK_M2M_CLIENT_SECRET=your-keycloak-m2m-secret-here

# Enable Keycloak in OAuth2 providers
KEYCLOAK_ENABLED=true

# Initial admin and test user passwords for Keycloak setup
INITIAL_ADMIN_PASSWORD=your-secure-keycloak-admin-password
INITIAL_USER_PASSWORD=your-secure-keycloak-user-password

# =============================================================================
# AMAZON COGNITO OAUTH2 CONFIGURATION (if AUTH_PROVIDER=cognito)
# =============================================================================

# AWS Configuration
AWS_REGION=us-east-1

# Amazon Cognito User Pool ID
# Format: {region}_{random_string}
COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX

# Cognito App Client ID  
# Get this from Amazon Cognito console > User Pools > App Integration > App clients
COGNITO_CLIENT_ID=your_cognito_client_id_here

# Cognito App Client Secret
# Get this from Amazon Cognito console > User Pools > App Integration > App clients
COGNITO_CLIENT_SECRET=your_cognito_client_secret_here

# =============================================================================
# APPLICATION SECURITY
# =============================================================================

# CRITICAL: CHANGE THIS SECRET KEY IMMEDIATELY!
# This is used for JWT token signing and session security
# Generate a strong, random 64-character string in production
# WARNING: Using the default value is a security risk!
SECRET_KEY=CHANGE-THIS-IMMEDIATELY-use-a-strong-random-key-in-production

# =============================================================================
# EXTERNAL MCP SERVER AUTH TOKENS (Auto-generated from OAuth flows)
# =============================================================================
# These tokens are automatically populated by the OAuth credential scripts
# Do not set these manually - they are managed by credentials-provider/

# ATLASSIAN_AUTH_TOKEN="auto_generated_by_oauth_flow"
# SRE_GATEWAY_AUTH_TOKEN="auto_generated_by_oauth_flow"

# Smithery API Key for accessing Smithery-hosted MCP servers
# Get this from https://smithery.ai/
SMITHERY_API_KEY=your_smithery_api_key_here

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================

# Anthropic API Key for Claude models (required for agent functionality)
# Get this from https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# CONTAINER REGISTRY CREDENTIALS (for CI/CD and local builds)
# =============================================================================

# Docker Hub credentials for publishing container images
# Get these from https://hub.docker.com/settings/security
DOCKERHUB_USERNAME=your_dockerhub_username
DOCKERHUB_TOKEN=your_dockerhub_access_token

# GitHub Container Registry credentials (optional - for publishing to ghcr.io)
# The GITHUB_TOKEN is automatically provided in GitHub Actions
# For local builds, generate a Personal Access Token with packages:write scope
# Get this from https://github.com/settings/tokens
GITHUB_USERNAME=your_github_username
GITHUB_TOKEN=your_github_personal_access_token

# Container registry organization names
DOCKERHUB_ORG=mcpgateway
GITHUB_ORG=agentic-community

# =============================================================================
# ADDITIONAL CONFIGURATION
# =============================================================================

# Optional: Set specific Cognito domain if using custom domain
# COGNITO_DOMAIN=your-custom-domain.auth.{region}.amazoncognito.com

# Optional: Additional service-specific environment variables
# Add any additional configuration variables your deployment requires